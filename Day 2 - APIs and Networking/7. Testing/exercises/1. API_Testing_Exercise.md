# API Testing Exercise: JSONPlaceholder API 🎯

In this exercise, you'll practice API testing using the JSONPlaceholder API (https://jsonplaceholder.typicode.com/), a free fake REST API for testing and prototyping.

## Exercise Overview 📋

You'll create a comprehensive test suite that covers:
1. Basic CRUD operations
2. Different HTTP methods
3. Query parameters
4. Error scenarios
5. Response validation

## Tools Required 🛠️

1. Postman (Download from: https://www.postman.com/downloads/)
2. Any code editor (VS Code recommended)
3. Internet connection

## Part 1: Setting Up Postman Collection 🚀

1. Create a new Postman Collection named "JSONPlaceholder Tests"
2. Set up environment variables:
   ```json
   {
     "baseUrl": "https://jsonplaceholder.typicode.com",
     "postId": "1",
     "userId": "1"
   }
   ```

## Part 2: Basic CRUD Tests ✨

### 1. GET Posts
Create a request to fetch all posts and add these tests:

```javascript
pm.test("Status code is 200", function () {
    pm.response.to.have.status(200);
});

pm.test("Response is an array", function () {
    pm.expect(pm.response.json()).to.be.an('array');
});

pm.test("Each post has required fields", function () {
    const posts = pm.response.json();
    posts.slice(0, 5).forEach(post => {
        pm.expect(post).to.have.property('id');
        pm.expect(post).to.have.property('title');
        pm.expect(post).to.have.property('body');
        pm.expect(post).to.have.property('userId');
    });
});
```

### 2. POST New Post
Create a request to add a new post:

```javascript
// Request Body
{
    "title": "Test Post",
    "body": "This is a test post",
    "userId": 1
}

// Tests
pm.test("Status code is 201", function () {
    pm.response.to.have.status(201);
});

pm.test("Post was created", function () {
    const response = pm.response.json();
    pm.expect(response).to.have.property('id');
    pm.expect(response.title).to.eql("Test Post");
});
```

### 3. PUT Update Post
Create a request to update a post:

```javascript
// Request Body
{
    "id": 1,
    "title": "Updated Post",
    "body": "This is an updated post",
    "userId": 1
}

// Tests
pm.test("Status code is 200", function () {
    pm.response.to.have.status(200);
});

pm.test("Post was updated", function () {
    const response = pm.response.json();
    pm.expect(response.title).to.eql("Updated Post");
});
```

### 4. DELETE Post
Create a request to delete a post:

```javascript
pm.test("Status code is 200", function () {
    pm.response.to.have.status(200);
});

pm.test("Response is empty", function () {
    pm.expect(pm.response.text()).to.be.empty;
});
```

## Part 3: Advanced Tests 🔥

### 1. Query Parameters
Test filtering posts by user:

```javascript
// GET /posts?userId=1

pm.test("All posts belong to specified user", function () {
    const posts = pm.response.json();
    posts.forEach(post => {
        pm.expect(post.userId).to.eql(1);
    });
});
```

### 2. Error Handling
Test invalid post ID:

```javascript
// GET /posts/999

pm.test("Status code is 404", function () {
    pm.response.to.have.status(404);
});

pm.test("Response is empty object", function () {
    pm.expect(pm.response.json()).to.be.empty;
});
```

### 3. Response Headers
Test response headers:

```javascript
pm.test("Content-Type header is present", function () {
    pm.response.to.have.header("Content-Type");
    pm.expect(pm.response.headers.get("Content-Type"))
        .to.include("application/json");
});
```

## Part 4: Test Collection Runner 🏃‍♂️

1. Create a test sequence:
   - GET all posts
   - POST new post
   - GET specific post
   - PUT update post
   - DELETE post

2. Use Postman's Collection Runner to execute all tests in sequence

## Part 5: Newman CLI (Optional) 🤖

1. Install Newman:
   ```bash
   npm install -g newman
   ```

2. Export your Postman collection and environment

3. Run tests via CLI:
   ```bash
   newman run JSONPlaceholder.postman_collection.json -e environment.json
   ```

## Bonus Challenges 🌟

1. **Comments Integration**
   - Add tests for post comments (/posts/1/comments)
   - Verify email format in comments
   - Test comment count

2. **User Data**
   - Test user endpoints (/users)
   - Verify nested address object
   - Test user company information

3. **Performance Testing**
   - Add response time assertions
   ```javascript
   pm.test("Response time is acceptable", function () {
       pm.expect(pm.response.responseTime).to.be.below(1000);
   });
   ```

## Submission ✅

Create a document containing:
1. Screenshots of your Postman collection structure
2. Test results from Collection Runner
3. Any issues or observations you found
4. Suggestions for additional test cases

## Tips 💡

1. Use environment variables for reusable values
2. Structure your tests logically
3. Add descriptive names for your requests
4. Use pre-request scripts for setup when needed
5. Include clear test descriptions

## Resources 📚

1. JSONPlaceholder Guide: https://jsonplaceholder.typicode.com/guide/
2. Postman Learning Center: https://learning.postman.com/
3. Newman Documentation: https://github.com/postmanlabs/newman 